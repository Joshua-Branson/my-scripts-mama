while true do
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local GROUP_ID = 17148405

local StaffRoles = {
	["Content Creator"] = true,
	["Trial Moderator"] = true,
	["Elder"] = true,
	["Moderator"] = true,
	["Developer"] = true,
	["Senior Moderator"] = true,
	["Administrator"] = true,
	["Director"] = true,
	["Community Manager"] = true,
	["Co Creator"] = true,
	["Creator"] = true
}

local function getStaffRole(player)
	local success, role = pcall(function()
		return player:GetRoleInGroup(GROUP_ID)
	end)

	if success and StaffRoles[role] then
		return role
	end

	return nil
end

-- Check players already in the server
for _, player in ipairs(Players:GetPlayers()) do
	if player ~= LocalPlayer then
		local role = getStaffRole(player)
		if role then
			print("Staff detected:", player.Name, "| Role:", role)
			LocalPlayer:Kick("A MOD has joined: " .. player.Name)
			return
		end
	end
end

-- Detect players joining later
Players.PlayerAdded:Connect(function(player)
	local role = getStaffRole(player)
	if role then
		print("Staff detected:", player.Name, "| Role:", role)
		LocalPlayer:Kick("A MOD has joined: " .. player.Name)
	end
end)
task.wait(0.001)
end
