local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local GROUP_ID = 17148405

local StaffRoles = {
	["Content Creator"] = true,
	["Trial Moderator"] = true,
	["Elder"] = true,
	["Moderator"] = true,
	["Developer"] = true,
	["Senior Moderator"] = true,
	["Administrator"] = true,
	["Director"] = true,
	["Community Manager"] = true,
	["Co Creator"] = true,
	["Creator"] = true
}

local function isStaff(player)
	local success, role = pcall(function()
		return player:GetRoleInGroup(GROUP_ID)
	end)

	if success then
		return StaffRoles[role] == true
	end

	return false
end

-- Check players already in the server
for _, player in ipairs(Players:GetPlayers()) do
	if player ~= LocalPlayer and isStaff(player) then
		LocalPlayer:Kick("A MOD has joined")
		return
	end
end

-- Detect players joining later
Players.PlayerAdded:Connect(function(player)
	if isStaff(player) then
		LocalPlayer:Kick("A MOD has joined")
	end
end)
